use rev1::board::Board;


fn main() {
    let mut board = Board::new().unwrap();
    board.set_preset_calibration();
    board.calibrate();
    board.set_all_zero_phases();
}

// fn main(){
//     let mut PHASE_CALIBRATION: [u8; 256] = [29, 80, 31, 15, 70, 59, 75, 73, 64, 61, 91, 64, 30, 225, 51, 13, 16, 75, 76, 75, 53, 69, 23, 78, 81, 72, 18, 32, 98, 102, 19, 95, 74, 86, 21, 51, 66, 23, 88, 26, 79, 20, 101, 76, 110, 10, 22, 68, 70, 10, 28, 19, 87, 40, 15, 14, 49, 39, 80, 59, 80, 19, 59, 92, 178, 44, 63, 77, 43, 63, 24, 
//     85, 28, 11, 79, 31, 93, 50, 24, 40, 79, 23, 75, 27, 74, 66, 54, 69, 93, 15, 21, 67, 11, 31, 13, 85, 86, 14, 40, 72, 28, 14, 17, 67, 70, 15, 96, 67, 90, 0, 16, 53, 12, 21, 8, 79, 22, 21, 75, 86, 151, 83, 11, 52, 5, 72, 52, 19, 21, 206, 61, 5, 59, 65, 74, 18, 76, 46, 22, 5, 32, 10, 95, 23, 25, 9, 20, 44, 68, 15, 25, 49, 11, 61, 14, 0, 25, 26, 41, 54, 53, 79, 12, 8, 13, 61, 65, 10, 26, 10, 90, 90, 34, 6, 14, 19, 71, 78, 93, 19, 86, 23, 38, 76, 97, 43, 0, 80, 23, 82, 105, 64, 13, 45, 0, 80, 6, 6, 71, 77, 57, 24, 178, 8, 77, 45, 17, 84, 75, 77, 5, 71, 73, 14, 48, 76, 66, 3, 85, 
//     21, 56, 0, 40, 20, 32, 49, 76, 61, 73, 52, 0, 88, 79, 11, 59, 62, 8, 102, 15, 42, 0, 5, 0, 0, 66, 6, 14, 69, 22, 14, 26, 28, 3, 22, 100, 55];
//     // change index 30 to be 42
//     // print out whats at position 30


//     // make tuples of index: value changes, e.g. 30:42
//     // for each tuple, change the value at the index and print the change
//     let mut changes: Vec<(usize, u8)> = vec![(30, 42), (36,89), (37,38), (43,106), (53,68), (66, 75), (67, 110), (68, 67), (84, 106),
// (85,87), (86,74), (99, 103), (107, 94), (134, 95), (147, 74), (148, 93), (160, 83), (165, 90), (173, 12), (176, 93), (177, 90), (178, 102),
// (179, 34), (195, 98), (204, 98), (210, 35), (211, 95), (212, 96), (220, 80), (225, 78), (226, 97), (227, 90), (228, 82), (229,76), (230, 20),
// (234, 78), (235, 82), (236,23), (238, 29), (239, 57), (240, 75), (241, 72), (244, 84), (245, 19), (251, 43)];
//     for change in changes {
//         let index = change.0;
//         let value = change.1;
//         let old_value = PHASE_CALIBRATION[index];
//         PHASE_CALIBRATION[index] = value;
//         println!("Changed index {} from {} to {}", index, old_value, PHASE_CALIBRATION[index]);
//     }
//     // print out the final phase calibrations
//     println!("PHASE_CALIBRATION: {:?}", PHASE_CALIBRATION);

// }

